{
  "name": "Java & Maven Interview Environment",
  // This is a feature-rich, stable image that includes the JDK, Maven, and Gradle.
  // We no longer need the separate "features" block.
  "image": "mcr.microsoft.com/devcontainers/java:1-17-bullseye",

  // Forward the application port
  "forwardPorts": [8080],

  // Command to run ONCE after the container is created to set up the project
  "postCreateCommand": "mvn -N io.takari:maven:wrapper && chmod +x mvnw",

  // Command to run EVERY TIME you open or reconnect to the codespace
  "postAttachCommand": "java -version && ./mvnw spring-boot:run",

  // Standard VS Code extensions for Java
  "customizations": {
    "vscode": {
      "extensions": [
        "vscjava.vscode-java-pack"
      ]
    }
  }
}